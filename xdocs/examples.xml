<?xml version="1.0"?>

<document>

 <properties>
  <title>JDBC Utility Component -- Examples</title>
  <author email="yoavs@apache.org">Yoav Shapira</author>
 </properties>

<body>

<section name="DbUtils: JDBC Utility Component Examples">
<p>
This page provides examples that show how the DbUtils component
may be used.
</p>
</section>

<section name="Basic Usage">
<p>
The core classes/interfaces in DbUtils are 
<code><a href="apidocs/org/apache/commons/dbutils/QueryRunner.html">QueryRunner</a></code>
and
<code><a href="apidocs/org/apache/commons/dbutils/ResultSetHandler.html">ResultSetHandler</a></code>.
The following example demonstrates how these classes are used together.
</p>

<pre>
DataSource ds = // somehow get DataSource;

// Step 1.
QueryRunner run = new QueryRunner(ds);

// Step 2.
ResultSetHandler h = new BeanHandler(Person.class);

// Step 3.
Person p = (Person) run.query("SELECT * FROM Person WHERE name=?", "John Doe", h); 

</pre>

<p>Explanation</p>
<ol>
    <li>
        Configure QueryRunner with the DataSource.
        Note that QueryRunner has methods that take a 
        java.sql.Connection so you are not required to
        use DataSources.
    </li>
    <li>
        Implement the ResultSetHandler interface or use
        one of the provided implementations.  This one converts a 
        ResultSet row into a bean.
    </li>
    <li>
        Execute the SQL statement with one replacement parameter and
        return the results in a new Person object (generated by the handler
        in step 2).
    </li>
</ol>

</section>

</body>
</document>

